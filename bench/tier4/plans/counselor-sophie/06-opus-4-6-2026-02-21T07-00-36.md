

# Implementation Plan: Side-by-Side College Comparison View

## Overview

Add a college comparison feature accessible from the "My Colleges" tab on the Colleges page. Students select two colleges from their saved list and see a detailed side-by-side comparison grid using data from the `college_tiers` table.

---

## 1. Database Query Setup

We'll query the `college_tiers` table joined with `saved_colleges` to get the comparison data. Based on the schema and existing patterns, `college_tiers` likely contains columns for institutional data and `saved_colleges` links students to colleges.

### File: `lib/db.ts` — Add comparison query function

```typescript
// Add to existing lib/db.ts

// ============ COLLEGE COMPARISON ============

export async function getCollegeComparisonData(
  collegeIds: number[]
): Promise<{ data: any[] | null; error: any }> {
  const supabase = createClient()
  const { data, error } = await supabase
    .from('college_tiers')
    .select(
      `
      id,
      name,
      city,
      state,
      acceptance_rate,
      sat_verbal_25,
      sat_verbal_75,
      sat_math_25,
      sat_math_75,
      act_composite_25,
      act_composite_75,
      in_state_tuition,
      out_of_state_tuition,
      enrollment,
      tier_score,
      tier_label,
      median_earnings,
      retention_rate,
      graduation_rate,
      avg_net_price,
      institution_type,
      locale,
      scorecard_id
    `
    )
    .in('id', collegeIds)

  return { data, error }
}
```

---

## 2. Zod Schema for Comparison Data

### File: `lib/schemas.ts` — Add comparison schemas

```typescript
// Add to existing lib/schemas.ts

// ============ COLLEGE COMPARISON ============

export const CollegeComparisonDataSchema = z.object({
  id: z.number(),
  name: z.string(),
  city: z.string().nullable(),
  state: z.string().nullable(),
  acceptance_rate: z.number().nullable(),
  sat_verbal_25: z.number().nullable(),
  sat_verbal_75: z.number().nullable(),
  sat_math_25: z.number().nullable(),
  sat_math_75: z.number().nullable(),
  act_composite_25: z.number().nullable(),
  act_composite_75: z.number().nullable(),
  in_state_tuition: z.number().nullable(),
  out_of_state_tuition: z.number().nullable(),
  enrollment: z.number().nullable(),
  tier_score: z.number().nullable(),
  tier_label: z.string().nullable(),
  median_earnings: z.number().nullable(),
  retention_rate: z.number().nullable(),
  graduation_rate: z.number().nullable(),
  avg_net_price: z.number().nullable(),
  institution_type: z.string().nullable(),
  locale: z.string().nullable(),
  scorecard_id: z.number().nullable(),
})

export type CollegeComparisonData = z.infer<typeof CollegeComparisonDataSchema>
```

---

## 3. TanStack Query Hook for Comparison

### File: `hooks/useCollegeComparison.ts` — New file

```typescript
import { useQuery } from '@tanstack/react-query'
import { createClient } from '@/lib/supabase/client'
import type { CollegeComparisonData } from '@/lib/schemas'

async function fetchCollegeComparison(collegeIds: number[]): Promise<CollegeComparisonData[]> {
  const supabase = createClient()
  const { data, error } = await supabase
    .from('college_tiers')
    .select(
      `
      id,
      name,
      city,
      state,
      acceptance_rate,
      sat_verbal_25,
      sat_verbal_75,
      sat_math_25,
      sat_math_75,
      act_composite_25,
      act_composite_75,
      in_state_tuition,
      out_of_state_tuition,
      enrollment,
      tier_score,
      tier_label,
      median_earnings,
      retention_rate,
      graduation_rate,
      avg_net_price,
      institution_type,
      locale,
      scorecard_id
    `
    )
    .in('id', collegeIds)

  if (error) throw error
  return data ?? []
}

export function useCollegeComparison(collegeIds: number[]) {
  return useQuery({
    queryKey: ['college-comparison', ...collegeIds.sort()],
    queryFn: () => fetchCollegeComparison(collegeIds),
    enabled: collegeIds.length === 2,
    staleTime: 10 * 60 * 1000, // 10 minutes — tier data doesn't change often
  })
}
```

---

## 4. Zustand Store — Comparison Selection State

### File: `store/index.ts` — Add comparison selectors

```typescript
// Add to the existing Zustand store interface and create:

// In the store state interface, add:
//   comparisonCollegeIds: number[]

// In the store actions, add:
//   setComparisonCollegeIds: (ids: number[]) => void
//   toggleComparisonCollege: (id: number) => void
//   clearComparison: () => void

// In the store creation:
comparisonCollegeIds: [],

setComparisonCollegeIds: (ids) => set({ comparisonCollegeIds: ids }),

toggleComparisonCollege: (id) =>
  set((state) => {
    const current = state.comparisonCollegeIds
    if (current.includes(id)) {
      return { comparisonCollegeIds: current.filter((cid) => cid !== id) }
    }
    if (current.length >= 2) {
      // Replace the oldest selection
      return { comparisonCollegeIds: [current[1], id] }
    }
    return { comparisonCollegeIds: [...current, id] }
  }),

clearComparison: () => set({ comparisonCollegeIds: [] }),

// Add granular selectors at the bottom of the file:
export const useComparisonCollegeIds = () => useStore((s) => s.comparisonCollegeIds)
export const useToggleComparisonCollege = () => useStore((s) => s.toggleComparisonCollege)
export const useClearComparison = () => useStore((s) => s.clearComparison)
export const useSetComparisonCollegeIds = () => useStore((s) => s.setComparisonCollegeIds)
```

---

## 5. Comparison Grid Component

### File: `components/colleges/CollegeComparisonGrid.tsx` — New file

```typescript
'use client'

import React, { useMemo } from 'react'
import { useCollegeComparison } from '@/hooks/useCollegeComparison'
import { useComparisonCollegeIds, useClearComparison } from '@/store'
import { cn } from '@/lib/utils'
import { X, ArrowUpDown, TrendingUp, TrendingDown, Minus } from 'lucide-react'
import type { CollegeComparisonData } from '@/lib/schemas'

// ============ FORMATTERS ============

function formatPercent(value: number | null): string {
  if (value === null || value === undefined) return '—'
  // Handle both 0-1 and 0-100 ranges
  const pct = value <= 1 ? value * 100 : value
  return `${pct.toFixed(1)}%`
}

function formatCurrency(value: number | null): string {
  if (value === null || value === undefined) return '—'
  return new Intl.NumberFormat('en-US', {
    style: 'currency',
    currency: 'USD',
    maximumFractionDigits: 0,
  }).format(value)
}

function formatNumber(value: number | null): string {
  if (value === null || value === undefined) return '—'
  return new Intl.NumberFormat('en-US').format(value)
}

function formatRange(low: number | null, high: number | null): string {
  if (low === null && high === null) return '—'
  if (low === null) return `≤${high}`
  if (high === null) return `${low}+`
  return `${low}–${high}`
}

function formatTierScore(value: number | null): string {
  if (value === null || value === undefined) return '—'
  return value.toFixed(2)
}

// ============ COMPARISON INDICATOR ============

type CompareDirection = 'lower-better' | 'higher-better' | 'neutral'

function CompareIndicator({
  valueA,
  valueB,
  direction,
}: {
  valueA: number | null
  valueB: number | null
  direction: CompareDirection
}) {
  if (valueA === null || valueB === null || direction === 'neutral') {
    return null
  }

  const diff = valueA - valueB
  if (Math.abs(diff) < 0.001) return <Minus className="h-3 w-3 text-gray-400 inline ml-1" />

  const aIsBetter =
    direction === 'higher-better' ? diff > 0 : diff < 0

  if (aIsBetter) {
    return <TrendingUp className="h-3 w-3 text-green-500 inline ml-1" />
  }
  return <TrendingDown className="h-3 w-3 text-red-400 inline ml-1" />
}

// ============ ROW DEFINITIONS ============

interface ComparisonRow {
  label: string
  category: string
  getValue: (c: CollegeComparisonData) => string
  getRawValue?: (c: CollegeComparisonData) => number | null
  direction: CompareDirection
}

const comparisonRows: ComparisonRow[] = [
  // Location
  {
    label: 'Location',
    category: 'Overview',
    getValue: (c) => [c.city, c.state].filter(Boolean).join(', ') || '—',
    direction: 'neutral',
  },
  {
    label: 'Institution Type',
    category: 'Overview',
    getValue: (c) => c.institution_type || '—',
    direction: 'neutral',
  },
  {
    label: 'Locale',
    category: 'Overview',
    getValue: (c) => c.locale || '—',
    direction: 'neutral',
  },
  {
    label: 'Tier Label',
    category: 'Overview',
    getValue: (c) => c.tier_label || '—',
    direction: 'neutral',
  },
  {
    label: 'Tier Score',
    category: 'Overview',
    getValue: (c) => formatTierScore(c.tier_score),
    getRawValue: (c) => c.tier_score,
    direction: 'lower-better', // Lower tier score = more selective
  },

  // Admissions
  {
    label: 'Acceptance Rate',
    category: 'Admissions',
    getValue: (c) => formatPercent(c.acceptance_rate),
    getRawValue: (c) => c.acceptance_rate,
    direction: 'neutral', // Not inherently "better" — depends on student goals
  },
  {
    label: 'SAT Verbal (25th–75th)',
    category: 'Admissions',
    getValue: (c) => formatRange(c.sat_verbal_25, c.sat_verbal_75),
    getRawValue: (c) => c.sat_verbal_75,
    direction: 'neutral',
  },
  {
    label: 'SAT Math (25th–75th)',
    category: 'Admissions',
    getValue: (c) => formatRange(c.sat_math_25, c.sat_math_75),
    getRawValue: (c) => c.sat_math_75,
    direction: 'neutral',
  },
  {
    label: 'ACT Composite (25th–75th)',
    category: 'Admissions',
    getValue: (c) => formatRange(c.act_composite_25, c.act_composite_75),
    getRawValue: (c) => c.act_composite_75,
    direction: 'neutral',
  },

  // Cost
  {
    label: 'In-State Tuition',
    category: 'Cost & Value',
    getValue: (c) => formatCurrency(c.in_state_tuition),
    getRawValue: (c) => c.in_state_tuition,
    direction: 'lower-better',
  },
  {
    label: 'Out-of-State Tuition',
    category: 'Cost & Value',
    getValue: (c) => formatCurrency(c.out_of_state_tuition),
    getRawValue: (c) => c.out_of_state_tuition,
    direction: 'lower-better',
  },
  {
    label: 'Average Net Price',
    category: 'Cost & Value',
    getValue: (c) => formatCurrency(c.avg_net_price),
    getRawValue: (c) => c.avg_net_price,
    direction: 'lower-better',
  },
  {
    label: 'Median Earnings (10yr)',
    category: 'Cost & Value',
    getValue: (c) => formatCurrency(c.median_earnings),
    getRawValue: (c) => c.median_earnings,
    direction: 'higher-better',
  },

  // Outcomes
  {
    label: 'Enrollment',
    category: 'Outcomes',
    getValue: (c) => formatNumber(c.enrollment),
    getRawValue: (c) => c.enrollment,
    direction: 'neutral',
  },
  {
    label: 'Retention Rate',
    category: 'Outcomes',
    getValue: (c) => formatPercent(c.retention_rate),
    getRawValue: (c) => c.retention_rate,
    direction: 'higher-better',
  },
  {
    label: 'Graduation Rate',
    category: 'Outcomes',
    getValue: (c) => formatPercent(c.graduation_rate),
    getRawValue: (c) => c.graduation_rate,
    direction: 'higher-better',
  },
]

// ============ MAIN COMPONENT ============

const CollegeComparisonGrid = React.memo(function CollegeComparisonGrid() {
  const comparisonIds = useComparisonCollegeIds()
  const clearComparison = useClearComparison()
  const { data: colleges, isLoading, error } = useCollegeComparison(comparisonIds)

  const [collegeA, collegeB] = useMemo(() => {
    if (!colleges || colleges.length < 2) return [null, null]
    // Preserve the order of selection
    const a = colleges.find((c) => c.id === comparisonIds[0]) ?? null
    const b = colleges.find((c) => c.id === comparisonIds[1]) ?? null
    return [a, b]
  }, [colleges, comparisonIds])

  // Group rows by category
  const groupedRows = useMemo(() => {
    const groups: { category: string; rows: ComparisonRow[] }[] = []
    let currentCategory = ''
    for (const row of comparisonRows) {
      if (row.category !== currentCategory) {
        currentCategory = row.category
        groups.push({ category: currentCategory, rows: [] })
      }
      groups[groups.length - 1].rows.push(row)
    }
    return groups
  }, [])

  if (comparisonIds.length < 2) {
    return null
  }

  if (isLoading) {
    return (
      <div className="rounded-lg border border-gray-200 bg-white p-8 text-center">
        <ArrowUpDown className="mx-auto h-8 w-8 animate-pulse text-gray-400" />
        <p className="mt-2 text-sm text-gray-500">Loading comparison data...</p>
      </div>
    )
  }

  if (error || !collegeA || !collegeB) {
    return (
      <div className="rounded-lg border border-red-200 bg-red-50 p-6 text-center">
        <p className="text-sm text-red-600">Failed to load comparison data. Please try again.</p>
        <button
          onClick={clearComparison}
          className="mt-2 text-sm text-red-500 underline hover:text-red-700"
        >
          Clear selection
        </button>
      </div>
    )
  }

  return (
    <div className="rounded-lg border border-gray-200 bg-white shadow-sm">
      {/* Header */}
      <div className="flex items-center justify-between border-b border-gray-200 px-4 py-3">
        <div className="flex items-center gap-2">
          <ArrowUpDown className="h-4 w-4 text-indigo-500" />
          <h3 className="text-sm font-semibold text-gray-900">College Comparison</h3>
        </div>
        <button
          onClick={clearComparison}
          className="rounded-md p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors"
          aria-label="Close comparison"
        >
          <X className="h-4 w-4" />
        </button>
      </div>

      {/* Comparison Table */}
      <div className="overflow-x-auto">
        <table className="w-full text-sm">
          {/* College Name Headers */}
          <thead>
            <tr className="border-b border-gray-200 bg-gray-50">
              <th className="px-4 py-3 text-left font-medium text-gray-500 w-[200px]">Metric</th>
              <th className="px-4 py-3 text-center font-semibold text-gray-900 min-w-[200px]">
                <span className="line-clamp-2">{collegeA.name}</span>
              </th>
              <th className="px-4 py-3 text-center font-semibold text-gray-900 min-w-[200px]">
                <span className="line-clamp-2">{collegeB.name}</span>
              </th>
            </tr>
          </thead>
          <tbody>
            {groupedRows.map((group) => (
              <React.Fragment key={group.category}>
                {/* Category Header */}
                <tr className="bg-indigo-50/50">
                  <td
                    colSpan={3}
                    className="px-4 py-2 text-xs font-semibold uppercase tracking-wider text-indigo-600"
                  >
                    {group.category}
                  </td>
                </tr>
                {/* Data Rows */}
                {group.rows.map((row) => {
                  const valA = row.getValue(collegeA)
                  const valB = row.getValue(collegeB)
                  const rawA = row.getRawValue?.(collegeA) ?? null
                  const rawB = row.getRawValue?.(collegeB) ?? null

                  return (
                    <tr key={row.label} className="border-b border-gray-100 hover:bg-gray-50/50">
                      <td className="px-4 py-2.5 text-gray-600 font-medium">{row.label}</td>
                      <td className="px-4 py-2.5 text-center text-gray-900">
                        {valA}
                        <CompareIndicator valueA={rawA} valueB={rawB} direction={row.direction} />
                      </td>
                      <td className="px-4 py-2.5 text-center text-gray-900">
                        {valB}
                        <CompareIndicator valueA={rawB} valueB={rawA} direction={row.direction} />
                      </td>
                    </tr>
                  )
                })}
              </React.Fragment>
            ))}
          </tbody>
        </table>
      </div>

      {/* Legend */}
      <div className="flex items-center gap-4 border-t border-gray-200 px-4 py-2 text-xs text-gray-400">
        <span className="flex items-center gap-1">
          <TrendingUp className="h-3 w-3 text-green-500" /> Better
        </span>
        <span className="flex items-center gap-1">
          <TrendingDown className="h-3 w-3 text-red-400" /> Worse
        </span>
        <span className="flex items-center gap-1">
          <Minus className="h-3 w-3 text-gray-400" /> Equal
        </span>
        <span className="ml-auto">Indicators shown for cost and outcome metrics only</span>
      </div>
    </div>
  )
})

export default CollegeComparisonGrid
```

---

## 6. Compare Selection Checkbox Component

### File: `components/colleges/CompareCheckbox.tsx` — New file

```typescript
'use client'

import React from 'react'
import { cn } from '@/lib/utils'
import { useComparisonCollegeIds, useToggleComparisonCollege } from '@/store'
import { ArrowUpDown } from 'lucide-react'

interface CompareCheckboxProps {
  collegeId: number
  collegeName: string
}

const CompareCheckbox = React.memo(function CompareCheckbox({
  collegeId,
  collegeName,
}: CompareCheckboxProps) {
  const comparisonIds = useComparisonCollegeIds()
  const toggleComparison = useToggleComparisonCollege()

  const isSelected = comparisonIds.includes(collegeId)
  const isDisabled = !isSelected && comparisonIds.length >= 2

  return (
    <button
      onClick={(e) => {
        e.stopPropagation()
        toggleComparison(collegeId)
      }}
      disabled={isDisabled}
      className={cn(
        'inline-flex items-center gap-1 rounded-md px-2 py-1 text-xs font-medium transition-colors',
        isSelected
          ? 'bg-indigo-100 text-indigo-700 hover:bg-indigo-200'
          : isDisabled
            ? 'bg-gray-50 text-gray-300 cursor-not-allowed'
            : 'bg-gray-100 text-gray-500 hover:bg-gray-200 hover:text-gray-700'
      )}
      title={
        isSelected
          ? `Remove ${collegeName} from comparison`
          : isDisabled
            ? 'Deselect a college to compare another'
            : `Add ${collegeName} to comparison`
      }
      aria-label={
        isSelected ? `Remove ${collegeName} from comparison` : `Compare ${collegeName}`
      }
    >
      <ArrowUpDown className="h-3 w-3" />
      {isSelected ? 'Comparing' : 'Compare'}
    </button>
  )
})

export default CompareCheckbox
```

---

## 7. Compare College Selector Dialog (Alternative to checkbox)

### File: `components/colleges/CompareCollegeSelector.tsx` — New file

This provides a dropdown-based selector for choosing two colleges to compare, displayed above the grid.

```typescript
'use client'

import React, { useMemo } from 'react'
import { cn } from '@/lib/utils'
import { useComparisonCollegeIds, useSetComparisonCollegeIds, useClearComparison } from '@/store'
import { ArrowUpDown, X } from 'lucide-react'

interface SavedCollege {
  id: number
  college_tier_id: number
  college_name: string
  tier_category?: string
}

interface CompareCollegeSelectorProps {
  savedColleges: SavedCollege[]
}

const CompareCollegeSelector = React.memo(function CompareCollegeSelector({
  savedColleges,
}: CompareCollegeSelectorProps) {
  const comparisonIds = useComparisonCollegeIds()
  const setComparisonIds = useSetComparisonCollegeIds()
  const clearComparison = useClearComparison()

  const collegeOptions = useMemo(
    () =>
      savedColleges.map((c) => ({
        id: c.college_tier_id,
        name: c.college_name,
        tier: c.tier_category,
      })),
    [savedColleges]
  )

  const handleSelectA = (e: React.ChangeEvent<HTMLSelectElement>) => {
    const id = parseInt(e.target.value, 10)
    if (isNaN(id)) {
      setComparisonIds(comparisonIds.length > 1 ? [comparisonIds[1]] : [])
    } else {
      setComparisonIds(comparisonIds.length > 1 ? [id, comparisonIds[1]] : [id])
    }
  }

  const handleSelectB = (e: React.ChangeEvent<HTMLSelectElement>) => {
    const id = parseInt(e.target.value, 10)
    if (isNaN(id)) {
      setComparisonIds(comparisonIds.length > 0 ? [comparisonIds[0]] : [])
    } else {
      setComparisonIds(comparisonIds.length > 0 ? [comparisonIds[0], id] : [id])
    }
  }

  if (savedColleges.length < 2) {
    return (
      <div className="rounded-lg border border-dashed border-gray-300 bg-gray-50 p-4 text-center text-sm text-gray-500">
        Save at least two colleges to compare them side by side.
      </div>
    )
  }

  return (
    <div className="rounded-lg border border-gray-200 bg-white p-4 shadow-sm">
      <div className="flex items-center gap-2 mb-3">
        <ArrowUpDown className="h-4 w-4 text-indigo-500" />
        <h3 className="text-sm font-semibold text-gray-900">Compare Colleges</h3>
        {comparisonIds.length > 0 && (
          <button
            onClick={clearComparison}
            className="ml-auto text-xs text-gray-400 hover:text-gray-600 flex items-center gap-1"
          >
            <X className="h-3 w-3" /> Clear
          </button>
        )}
      </div>
      <div className="flex flex-col sm:flex-row gap-3 items-stretch sm:items-center">
        <select
          value={comparisonIds[0] ?? ''}
          onChange={handleSelectA}
          className={cn(
            'flex-1 rounded-md border border-gray-300 px-3 py-2 text-sm bg-white',
            'focus:border-indigo-400 focus:ring-1 focus:ring-indigo-400 focus:outline-none'
          )}
        >
          <option value="">Select first college...</option>
          {collegeOptions
            .filter((c) => c.id !== comparisonIds[1])
            .map((c) => (
              <option key={c.id} value={c.id}>
                {c.name} {c.tier ? `(${c.tier})` : ''}
              </option>
            ))}
        </select>

        <span className="text-gray-400 text-sm font-medium text-center">vs</span>

        <select
          value={comparisonIds[1] ?? ''}
          onChange={handleSelectB}
          className={cn(
            'flex-1 rounded-md border border-gray-300 px-3 py-2 text-sm bg-white',
            'focus:border-indigo-400 focus:ring-1 focus:ring-indigo-400 focus:outline-none'
          )}
        >
          <option value="">Select second college...</option>
          {collegeOptions
            .filter((c) => c.id !== comparisonIds[0])
            .map((c) => (
              <option key={c.id} value={c.id}>
                {c.name} {c.tier ? `(${c.tier})` : ''}
              </option>
            ))}
        </select>
      </div>
    </div>
  )
})

export default CompareCollegeSelector
```

---

## 8. Integration into Colleges Page

### File: `app/(dashboard)/colleges/page.tsx` — Modify existing

This is the most critical integration point. The comparison UI should appear in the "My Colleges" tab.

```typescript
// Add these imports at the top of the file:
import CompareCollegeSelector from '@/components/colleges/CompareCollegeSelector'
import CollegeComparisonGrid from '@/components/colleges/CollegeComparisonGrid'
import CompareCheckbox from '@/components/colleges/CompareCheckbox'
import { useComparisonCollegeIds, useClearComparison } from '@/store'

// ============ MODIFICATIONS IN THE COMPONENT ============

// Inside the CollegesPage component function body, add:
const comparisonIds = useComparisonCollegeIds()
const clearComparison = useClearComparison()

// Clear comparison when switching tabs
// In the existing tab switch handler (or add useEffect):
// When the active tab changes away from "my-colleges", clear comparison:
React.useEffect(() => {
  // Assuming `activeTab` is the current tab state variable
  if (activeTab !== 'my-colleges') {
    clearComparison()
  }
}, [activeTab, clearComparison])

// ============ IN THE "MY COLLEGES" TAB CONTENT ============
// Add the comparison selector and grid ABOVE the existing Kanban board:

// In the JSX for the "my-colleges" tab panel, add before the Kanban columns:

{/* College Comparison Section */}
<div className="mb-6 space-y-4">
  <CompareCollegeSelector savedColleges={savedColleges} />
  <CollegeComparisonGrid />
</div>

// ============ IN EACH COLLEGE CARD (Kanban items) ============
// Inside whatever component renders individual college cards in the Kanban board,
// add the CompareCheckbox. For example, if using CollegeCard:

<CompareCheckbox
  collegeId={college.college_tier_id}
  collegeName={college.college_name}
/>
```

Here's a more concrete example of how the My Colleges tab section should look after modification:

```tsx
{/* My Colleges Tab Content */}
{activeTab === 'my-colleges' && (
  <div className="space-y-6">
    {/* Comparison Section */}
    <div className="space-y-4">
      <CompareCollegeSelector savedColleges={savedColleges} />
      <CollegeComparisonGrid />
    </div>

    {/* Existing Kanban Board */}
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
      {['High Reach', 'Reach', 'Target', 'Safety'].map((tier) => (
        <div key={tier} className="space-y-3">
          <h3 className="text-sm font-semibold text-gray-700
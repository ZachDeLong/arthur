[
  {
    "id": "01",
    "fixture": "fixture-a",
    "task": "Add WebSocket plugin support to the plugin registry. The WebSocket plugin should extend the base plugin class, support connection lifecycle events (connect, disconnect, message), and integrate with the existing plugin configuration system.",
    "systemContext": "You are a senior TypeScript engineer. Create a detailed implementation plan for the requested feature. Reference specific existing files to modify using 'Modify' or 'Update'. When proposing new files, use 'Create' or 'Add'. Include concrete file paths in your plan. Include complete function implementations with full database queries, import statements, and type definitions. Do not summarize — show the actual code.",
    "allowedNewPaths": [
      "src/plugins/ws-*.ts",
      "src/adapters/ws/*.ts"
    ]
  },
  {
    "id": "02",
    "fixture": "fixture-a",
    "task": "Add plugin validation middleware that validates plugin metadata against the project's JSON schema before registration. Invalid plugins should be rejected with descriptive error messages.",
    "systemContext": "You are a senior TypeScript engineer. Create a detailed implementation plan for the requested feature. Reference specific existing files to modify using 'Modify' or 'Update'. When proposing new files, use 'Create' or 'Add'. Include concrete file paths in your plan. Include complete function implementations with full database queries, import statements, and type definitions. Do not summarize — show the actual code.",
    "allowedNewPaths": [
      "src/middleware/*.ts"
    ]
  },
  {
    "id": "03",
    "fixture": "fixture-a",
    "task": "Add a database migration system that works with the existing migration script. Support creating new migrations, running pending migrations, and rolling back. Track migration state in a local SQLite database.",
    "systemContext": "You are a senior TypeScript engineer. Create a detailed implementation plan for the requested feature. Reference specific existing files to modify using 'Modify' or 'Update'. When proposing new files, use 'Create' or 'Add'. Include concrete file paths in your plan. Include complete function implementations with full database queries, import statements, and type definitions. Do not summarize — show the actual code.",
    "allowedNewPaths": [
      "scripts/*.ts",
      "migrations/*.sql"
    ]
  },
  {
    "id": "04",
    "fixture": "fixture-b",
    "task": "Add rate limiting middleware to the API gateway. Support per-IP and per-token rate limits with configurable windows. Rate limit state should be stored in-memory with optional Redis backing.",
    "systemContext": "You are a senior Go engineer. Create a detailed implementation plan for the requested feature. Reference specific existing files to modify using 'Modify' or 'Update'. When proposing new files, use 'Create' or 'Add'. Include concrete file paths in your plan. Include complete function implementations with full import statements and type definitions. Do not summarize — show the actual code.",
    "allowedNewPaths": [
      "internal/ratelimit/*.go",
      "internal/middleware/*.go"
    ]
  },
  {
    "id": "05",
    "fixture": "fixture-b",
    "task": "Add Kubernetes health check endpoints (liveness and readiness probes) to the API gateway. The readiness probe should verify upstream service connectivity. Update the Kubernetes deployment manifests to include probe configuration.",
    "systemContext": "You are a senior Go engineer. Create a detailed implementation plan for the requested feature. Reference specific existing files to modify using 'Modify' or 'Update'. When proposing new files, use 'Create' or 'Add'. Include concrete file paths in your plan. Include complete function implementations with full import statements and type definitions. Do not summarize — show the actual code.",
    "allowedNewPaths": [
      "internal/health/*.go"
    ]
  },
  {
    "id": "06",
    "fixture": "fixture-c",
    "task": "Add an analytics dashboard at /analytics that shows: (1) participant counts broken down by tier, (2) content items grouped by category with total engagement counts per category, and (3) a top-10 leaderboard of participants ranked by total engagements received on their content. Use server-side data fetching with Prisma and add a client-side date range filter component.",
    "systemContext": "You are a senior TypeScript/Next.js engineer. Create a detailed implementation plan for the requested feature. Reference specific existing files to modify using 'Modify' or 'Update'. When proposing new files, use 'Create' or 'Add'. Include concrete file paths and Prisma queries in your plan. Include complete function implementations with full database queries, import statements, and type definitions. Do not summarize — show the actual code.",
    "allowedNewPaths": [
      "src/app/analytics/**/*.tsx",
      "src/components/Analytics*.tsx",
      "src/components/DateRange*.tsx"
    ],
    "schemaFile": "prisma/schema.prisma"
  },
  {
    "id": "07",
    "fixture": "fixture-c",
    "task": "Build a content recommendation engine: for a given participant, find content items they haven't engaged with yet, prioritized by what other participants in the same tier have engaged with most. Implement as a server component at /recommendations/[participantId] that shows the top 20 recommended items. Include the Prisma queries for finding un-engaged content and ranking by peer engagement.",
    "systemContext": "You are a senior TypeScript/Next.js engineer. Create a detailed implementation plan for the requested feature. Reference specific existing files to modify using 'Modify' or 'Update'. When proposing new files, use 'Create' or 'Add'. Include concrete file paths and Prisma queries in your plan. Include complete function implementations with full database queries, import statements, and type definitions. Do not summarize — show the actual code.",
    "allowedNewPaths": [
      "src/app/recommendations/**/*.tsx",
      "src/components/Recommendation*.tsx"
    ],
    "schemaFile": "prisma/schema.prisma"
  },
  {
    "id": "08",
    "fixture": "fixture-c",
    "task": "Add a CSV export feature to the content detail page: when viewing a content item, there should be an 'Export Engagements' button that downloads all engagements for that item as a CSV file. The CSV should include the participant's display identifier, their tier, the interaction type, and when it occurred. Implement the CSV generation in a server-side API route at /api/content/[id]/export, and add a client-side button component that triggers the download.",
    "systemContext": "You are a senior TypeScript/Next.js engineer. Create a detailed implementation plan for the requested feature. Reference specific existing files to modify using 'Modify' or 'Update'. When proposing new files, use 'Create' or 'Add'. Include concrete file paths and Prisma queries in your plan. Include complete function implementations with full database queries, import statements, and type definitions. Do not summarize — show the actual code.",
    "allowedNewPaths": [
      "src/app/api/content/*/export/route.ts",
      "src/components/Export*.tsx"
    ],
    "schemaFile": "prisma/schema.prisma"
  },
  {
    "id": "09",
    "fixture": "fixture-d",
    "task": "Add an analytics endpoint that returns engagement statistics per participant: total content items authored, total engagements received across all their content, average engagements per content item, and their most popular content item by engagement count. The query should join the relevant tables, grouping by participant. Use Drizzle ORM for type-safe queries. Consult the schema file for correct table and column names.",
    "systemContext": "You are a senior TypeScript engineer. Create a detailed implementation plan for the requested feature. Reference specific existing files to modify using 'Modify' or 'Update'. When proposing new files, use 'Create' or 'Add'. Include concrete file paths and Drizzle ORM queries in your plan. Include complete function implementations with full database queries, import statements, and type definitions. Do not summarize — show the actual code.",
    "allowedNewPaths": [
      "src/routes/analytics*.ts",
      "src/services/analytics*.ts"
    ]
  },
  {
    "id": "10",
    "fixture": "fixture-d",
    "task": "Add a content feed endpoint that returns the latest content items with author details and engagement counts. Support pagination with cursor-based navigation and filtering by display identifier. Each item should include: headline, body text, author display identifier, author contact email, total engagement count, and creation timestamp. Use Drizzle ORM with proper joins and aggregation. Consult the schema file for correct table and column names.",
    "systemContext": "You are a senior TypeScript engineer. Create a detailed implementation plan for the requested feature. Reference specific existing files to modify using 'Modify' or 'Update'. When proposing new files, use 'Create' or 'Add'. Include concrete file paths and Drizzle ORM queries in your plan. Include complete function implementations with full database queries, import statements, and type definitions. Do not summarize — show the actual code.",
    "allowedNewPaths": [
      "src/routes/feed*.ts",
      "src/services/feed*.ts"
    ]
  },
  {
    "id": "11",
    "fixture": "fixture-d",
    "task": "Add a trending content system that identifies content items with the most engagements in the last 24 hours. Implement a database query that aggregates engagements by content item, filters by timestamp, and returns the top 10 trending items with their author display identifiers and engagement breakdowns by reaction type. Use Drizzle ORM and store results in a materialized cache table for performance. Consult the schema file for correct table and column names.",
    "systemContext": "You are a senior TypeScript engineer. Create a detailed implementation plan for the requested feature. Reference specific existing files to modify using 'Modify' or 'Update'. When proposing new files, use 'Create' or 'Add'. Include concrete file paths and Drizzle ORM queries in your plan. Include complete function implementations with full database queries, import statements, and type definitions. Do not summarize — show the actual code.",
    "allowedNewPaths": [
      "src/routes/trending*.ts",
      "src/services/trending*.ts",
      "migrations/002_*.sql"
    ]
  }
]
